<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>闭包</title>
    <style type="text/css">
        p{
            background: gold;
        }
    </style>
</head>
<body>

<div>
    <p>产品1</p>

    <p>产品2</p>

    <p>产品3</p>

    <p>产品4</p>

    <p>产品5</p>
</div>


<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {

        //init();

        function init(){
            var pAry = document.getElementsByTagName("p");
            for(var i=0; i<pAry.length;i++){
                //点击每次都是5
//                pAry[i].onclick =function () {
//                    alert(i);
//                }

                (function (i) {
                   pAry[i].onclick = function () {
                       alert(i);
                   }
                })(i);
            }
        }
    })
</script>
</body>
</html>